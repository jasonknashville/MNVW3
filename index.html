<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Move Now vs Wait 12 Months</title>

  <style>
    :root{
      --bg:#f6f8fb;
      --card:#ffffff;
      --text:#0f172a;
      --muted:#475569;
      --border:#d8e0ea;
      --shadow: 0 12px 32px rgba(15, 23, 42, 0.08);
      --radius:18px;

      --buy:#2563eb;     /* blue */
      --wait:#dc2626;    /* red */
      --barBlue:#1e3a8a; /* bottom bar */
      --barRed:#dc2626;  /* top bar */

      --good:#16a34a;
      --warn:#f59e0b;
    }

    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      background: var(--bg);
      color: var(--text);
      line-height:1.35;
    }

    /* Then-vs-Now framing */
    .brand-top{height:14px;background:var(--barRed);}
    .brand-header{
      display:flex;
      align-items:center;
      justify-content:center;
      padding:18px 12px 10px;
      background:#fff;
      border-bottom:1px solid rgba(15,23,42,0.06);
    }
    .brand-header img{
      max-height:72px;
      width:auto;
      display:block;
    }
    .wrap{
      max-width: 1040px;
      margin: 0 auto;
      padding: 18px 14px 30px;
    }
    .brand-bottom{height:16px;background:var(--barBlue);}

    .card{
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow:hidden;
    }

    .head{
      padding: 16px 16px 12px;
      border-bottom:1px solid rgba(15,23,42,0.08);
      background: linear-gradient(90deg, rgba(37,99,235,0.08), rgba(220,38,38,0.08));
    }
    h1{
      margin:0;
      font-size: 20px;
      letter-spacing:.2px;
    }
    .subtitle{
      margin-top:6px;
      color: var(--muted);
      font-size: 13px;
      max-width: 820px;
    }

    .pillrow{
      display:flex;
      flex-wrap:wrap;
      gap:8px;
      margin-top:10px;
      align-items:center;
    }
    .pill{
      font-size: 12px;
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid var(--border);
      background: rgba(255,255,255,0.72);
      color: var(--muted);
      white-space:nowrap;
    }
    .pill b{color:var(--text)}
    .pill.buy{border-color: rgba(37,99,235,0.35)}
    .pill.wait{border-color: rgba(220,38,38,0.35)}

    .inputs{
      padding: 14px 16px 10px;
      display:grid;
      gap:10px;
      grid-template-columns: repeat(8, minmax(0,1fr));
    }

    .field{
      display:flex;
      flex-direction:column;
      gap:6px;
      min-width:0;
    }
    label{
      font-size: 12px;
      color: var(--muted);
    }
    input, select{
      width:100%;
      padding: 10px 10px;
      border-radius: 12px;
      border: 1px solid var(--border);
      background: #fff;
      font-size: 14px;
      color: var(--text);
      outline:none;
    }
    input:focus, select:focus{
      border-color: rgba(37,99,235,0.55);
      box-shadow: 0 0 0 4px rgba(37,99,235,0.14);
    }

    .toggleRow{
      padding: 0 16px 14px;
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      align-items:center;
      color: var(--muted);
      font-size: 12.5px;
    }
    .toggle{
      display:flex;
      align-items:center;
      gap:8px;
      padding: 8px 10px;
      border-radius: 12px;
      border: 1px solid var(--border);
      background: rgba(246,248,251,0.65);
    }
    .toggle input{width:18px;height:18px;margin:0}

    .grid2{
      display:grid;
      grid-template-columns: 1fr 18px 1fr;
      align-items:stretch;
    }
    .divider{
      position:relative;
      background: linear-gradient(to bottom, rgba(15,23,42,0), rgba(15,23,42,0.12), rgba(15,23,42,0));
    }
    .divider:before{
      content:"";
      position:absolute;
      left:50%;
      top:0;
      bottom:0;
      width:1px;
      background: rgba(15,23,42,0.14);
      transform:translateX(-50%);
    }

    .side{
      padding: 14px 16px 8px;
    }
    .sidehead{
      display:flex;
      justify-content:space-between;
      align-items:flex-start;
      gap:10px;
      margin-bottom:10px;
    }
    .badge{
      font-size: 12px;
      font-weight: 800;
      letter-spacing:.3px;
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid var(--border);
      background: rgba(255,255,255,0.8);
      white-space:nowrap;
    }
    .badge.buy{border-color: rgba(37,99,235,0.45); color: var(--buy)}
    .badge.wait{border-color: rgba(220,38,38,0.45); color: var(--wait)}
    .side p{
      margin:0;
      color: var(--muted);
      font-size: 13px;
    }

    .kpis{
      margin-top: 10px;
      display:grid;
      grid-template-columns: repeat(2, minmax(0,1fr));
      gap:10px;
    }
    .kpi{
      border: 1px solid var(--border);
      border-radius: 14px;
      padding: 10px 10px;
      background: rgba(246,248,251,0.58);
    }
    .kpi .klabel{
      font-size: 12px;
      color: var(--muted);
      margin-bottom: 6px;
    }
    .kpi .kval{
      font-size: 18px;
      font-weight: 900;
      letter-spacing:.2px;
    }
    .kpi .ksub{
      margin-top: 4px;
      font-size: 12px;
      color: var(--muted);
    }
    .kval.buy{color: var(--buy)}
    .kval.wait{color: var(--wait)}

    .summary{
      border-top: 1px solid var(--border);
      padding: 12px 16px;
      background: linear-gradient(90deg, rgba(37,99,235,0.07), rgba(220,38,38,0.07));
      display:grid;
      grid-template-columns: 1.4fr 1fr 1fr;
      gap: 10px;
      align-items:center;
    }
    .sumblock{
      border: 1px solid rgba(15,23,42,0.10);
      background: rgba(255,255,255,0.72);
      border-radius: 14px;
      padding: 10px 10px;
    }
    .sumblock .slabel{font-size:12px;color:var(--muted);margin-bottom:6px;}
    .sumblock .sval{font-size:16px;font-weight:900;}
    .note{
      padding: 0 16px 16px;
      font-size: 12px;
      color: var(--muted);
    }
    .note b{color:var(--text)}
    .gainHint{
      display:none;
      margin-top:10px;
      padding: 10px 10px;
      border-radius: 14px;
      border: 1px dashed rgba(15,23,42,0.18);
      background: rgba(255,255,255,0.72);
      font-size: 12.5px;
      color: var(--muted);
    }
    .gainHint b{color:var(--text)}

    .footer{
      margin-top: 12px;
      font-size: 12px;
      color: var(--muted);
      text-align:center;
      padding: 8px 8px 0;
    }

    @media (max-width: 980px){
      .inputs{grid-template-columns: repeat(2, minmax(0,1fr));}
      .grid2{grid-template-columns: 1fr;}
      .divider{display:none;}
      .summary{grid-template-columns: 1fr;}
    }
  </style>
</head>

<body>
  <div class="brand-top"></div>
  <div class="brand-header">
    <img src="https://kvcore-library.s3.amazonaws.com/remax1stchoice8207/images/03b9616f75a8e185d56a93c799829fdf.png" alt="Team Logo">
  </div>

  <div class="wrap">
    <div class="card">
      <div class="head">
        <h1>Waiting feels safe — but is it?</h1>
        <div class="subtitle">
          A 12-month snapshot comparing <b>Move Now</b> vs <b>Wait 12 Months</b>. Full PITI vs rent. Appreciation included (unless you turn on Conservative Mode).
          Not a prediction. Just visible tradeoffs.
        </div>
        <div class="pillrow">
          <span class="pill buy"><b>MOVE NOW</b></span>
          <span class="pill wait"><b>WAIT 12 MONTHS</b></span>
          <span class="pill">30-year fixed default</span>
          <span class="pill">Property tax + insurance included</span>
        </div>
      </div>

      <div class="inputs">
        <div class="field">
          <label for="price">Home price</label>
          <input id="price" type="number" min="0" step="1000" value="450000">
        </div>
        <div class="field">
          <label for="dpPct">Down payment %</label>
          <input id="dpPct" type="number" min="0" max="100" step="0.1" value="5">
        </div>
        <div class="field">
          <label for="ratePct">Interest rate %</label>
          <input id="ratePct" type="number" min="0" max="25" step="0.01" value="6.25">
        </div>
        <div class="field">
          <label for="termYears">Loan term (years)</label>
          <input id="termYears" type="number" min="5" max="40" step="1" value="30">
        </div>

        <div class="field">
          <label for="rent">Monthly rent</label>
          <input id="rent" type="number" min="0" step="50" value="2250">
        </div>
        <div class="field">
          <label for="taxPct">Property tax % (annual)</label>
          <input id="taxPct" type="number" min="0" max="5" step="0.01" value="0.75">
        </div>
        <div class="field">
          <label for="insAnnual">Insurance (annual $)</label>
          <input id="insAnnual" type="number" min="0" step="100" value="1500">
        </div>
        <div class="field">
          <label for="appPct">Appreciation % (annual)</label>
          <input id="appPct" type="number" min="-20" max="20" step="0.1" value="4">
        </div>
      </div>

      <div class="toggleRow">
        <div class="toggle">
          <input id="conservative" type="checkbox">
          <label for="conservative" style="margin:0;cursor:pointer;">
            <b>Conservative Mode</b> (sets appreciation to 0% for the comparison)
          </label>
        </div>
        <span>Tip: Conservative Mode is useful for “worst-case” clarity.</span>
      </div>

      <div class="grid2">
        <!-- MOVE NOW -->
        <div class="side">
          <div class="sidehead">
            <div>
              <div class="badge buy">MOVE NOW</div>
              <p>Buy today and hold for 12 months.</p>
            </div>
          </div>

          <div class="kpis">
            <div class="kpi">
              <div class="klabel">Monthly P&I</div>
              <div class="kval buy" id="piPmt">$—</div>
              <div class="ksub" id="loanLine">Loan: —</div>
            </div>
            <div class="kpi">
              <div class="klabel">Monthly Taxes + Insurance</div>
              <div class="kval buy" id="tiPmt">$—</div>
              <div class="ksub" id="tiLine">Tax + Ins breakdown</div>
            </div>

            <div class="kpi">
              <div class="klabel">Monthly PITI (total)</div>
              <div class="kval buy" id="pitiPmt">$—</div>
              <div class="ksub">Used for break-even comparison</div>
            </div>
            <div class="kpi">
              <div class="klabel">Down payment</div>
              <div class="kval buy" id="dpAmt">$—</div>
              <div class="ksub" id="dpLine">—% of price</div>
            </div>

            <div class="kpi">
              <div class="klabel">Equity after 12 months</div>
              <div class="kval buy" id="equity12">$—</div>
              <div class="ksub" id="value12Line">Estimated value: —</div>
            </div>
            <div class="kpi">
              <div class="klabel">Equity gained in 12 months</div>
              <div class="kval buy" id="equityGain12">$—</div>
              <div class="ksub" id="equityGainSplit">Principal + appreciation</div>
            </div>

            <div class="kpi">
              <div class="klabel">Total cash out (12 mo)</div>
              <div class="kval buy" id="cashOut12">$—</div>
              <div class="ksub">Down payment + 12 PITI payments</div>
            </div>
            <div class="kpi">
              <div class="klabel">Net cost to own (12 mo)</div>
              <div class="kval buy" id="netCostOwn12">$—</div>
              <div class="ksub">Cash out − equity position</div>
            </div>
          </div>
        </div>

        <div class="divider"></div>

        <!-- WAIT 12 MONTHS -->
        <div class="side">
          <div class="sidehead">
            <div>
              <div class="badge wait">WAIT 12 MONTHS</div>
              <p>Rent for 12 months, then revisit buying.</p>
            </div>
          </div>

          <div class="kpis">
            <div class="kpi">
              <div class="klabel">Rent paid (12 months)</div>
              <div class="kval wait" id="rent12">$—</div>
              <div class="ksub">Rent × 12</div>
            </div>
            <div class="kpi">
              <div class="klabel">Estimated price in 12 months</div>
              <div class="kval wait" id="price12">$—</div>
              <div class="ksub" id="price12Sub">Uses appreciation input</div>
            </div>

            <div class="kpi">
              <div class="klabel">Extra down payment needed</div>
              <div class="kval wait" id="extraDp">$—</div>
              <div class="ksub">Same % down costs more if prices rise</div>
            </div>
            <div class="kpi">
              <div class="klabel">Head start you’d have by buying now</div>
              <div class="kval wait" id="headStart">$—</div>
              <div class="ksub">Equity gained during the year</div>
            </div>

            <div class="kpi">
              <div class="klabel">Net difference (12 months)</div>
              <div class="kval wait" id="netDiff">$—</div>
              <div class="ksub">Rent cost vs owning net cost</div>
            </div>
            <div class="kpi">
              <div class="klabel">Break-even month</div>
              <div class="kval wait" id="breakeven">—</div>
              <div class="ksub" id="breakevenSub">Owning begins…</div>
            </div>
          </div>

          <div class="gainHint" id="gainHint">
            <b>Owning begins building more net value after break-even:</b>
            from that month onward, the estimated net cost to own is lower than renting (under these assumptions).
          </div>
        </div>
      </div>

      <div class="summary">
        <div class="sumblock">
          <div class="slabel">Quick takeaway</div>
          <div class="sval" id="takeaway">—</div>
        </div>
        <div class="sumblock">
          <div class="slabel">Owning net cost (12 mo)</div>
          <div class="sval" id="ownCostBox">$—</div>
        </div>
        <div class="sumblock">
          <div class="slabel">Rent cost (12 mo)</div>
          <div class="sval" id="rentCostBox">$—</div>
        </div>
      </div>

      <div class="note">
        <b>Notes:</b> Simplified illustration. Includes mortgage principal & interest, estimated property taxes, and insurance.
        Excludes maintenance, HOA, utilities, and transaction costs (closing/selling). If you want a full “real world” version, run it with your exact numbers.
      </div>
    </div>

    <div class="footer">
      If you want, I can run your exact scenario privately (taxes/insurance/closing costs/HOA/etc.) — no pressure, just clarity.
    </div>
  </div>

  <div class="brand-bottom"></div>

  <script>
    // -------- Helpers --------
    const $ = (id) => document.getElementById(id);

    function clampNum(n, min, max){
      if(!isFinite(n)) return min;
      return Math.min(max, Math.max(min, n));
    }

    function fmtMoney(n, digits=0){
      if(!isFinite(n)) return "$—";
      return n.toLocaleString(undefined, {
        style:"currency",
        currency:"USD",
        maximumFractionDigits:digits
      });
    }

    function safeNum(v, fallback=0){
      const n = Number(v);
      return isFinite(n) ? n : fallback;
    }

    function mortgagePayment(loanAmount, annualRatePct, years){
      const r = (annualRatePct/100)/12;
      const n = years*12;
      if (loanAmount <= 0) return 0;
      if (r === 0) return loanAmount / n;
      const pow = Math.pow(1+r, n);
      return loanAmount * (r * pow) / (pow - 1);
    }

    // Amortization step (P&I only)
    function amortizeOneMonth(balance, monthlyRate, monthlyPayment){
      const interest = balance * monthlyRate;
      let principal = monthlyPayment - interest;

      // Edge cases
      if (!isFinite(principal)) principal = 0;
      if (principal < 0) principal = 0;
      if (principal > balance) principal = balance;

      const newBalance = balance - principal;
      return { interest, principal, newBalance };
    }

    // -------- Core compute --------
    function compute(){
      // Inputs
      const homePrice = Math.max(0, safeNum($("price").value, 0));
      const dpPct = clampNum(safeNum($("dpPct").value, 5), 0, 100);
      const ratePct = clampNum(safeNum($("ratePct").value, 6.25), 0, 25);
      const termYears = clampNum(safeNum($("termYears").value, 30), 5, 40);

      const rent = Math.max(0, safeNum($("rent").value, 0));
      const taxPct = clampNum(safeNum($("taxPct").value, 0.75), 0, 5);
      const insAnnual = Math.max(0, safeNum($("insAnnual").value, 1500));
      let appPct = clampNum(safeNum($("appPct").value, 4), -20, 20);

      const conservative = $("conservative").checked;
      if (conservative) appPct = 0;

      // Derived
      const dpAmt = homePrice * (dpPct/100);
      const loanAmt = Math.max(0, homePrice - dpAmt);

      const piPmt = mortgagePayment(loanAmt, ratePct, termYears);
      const monthlyTax = (homePrice * (taxPct/100)) / 12;
      const monthlyIns = insAnnual / 12;
      const tiPmt = monthlyTax + monthlyIns;
      const pitiPmt = piPmt + tiPmt;

      const monthlyRate = (ratePct/100)/12;
      const monthlyApp = (appPct/100)/12;

      // ----- 12-month simulation -----
      let bal = loanAmt;
      let val = homePrice;

      let principal12 = 0;
      let interest12 = 0;

      for(let m=1; m<=12; m++){
        // home value change first (order not critical, but consistent)
        val = val * (1 + monthlyApp);

        const step = amortizeOneMonth(bal, monthlyRate, piPmt);
        bal = step.newBalance;

        principal12 += step.principal;
        interest12 += step.interest;
      }

      const value12 = val;
      const equity12 = value12 - bal;

      const appreciationGain12 = Math.max(0, value12 - homePrice);
      const equityGain12 = Math.max(0, equity12 - dpAmt); // excludes initial down payment
      const cashOut12 = dpAmt + (pitiPmt * 12);
      const netCostOwn12 = cashOut12 - equity12;

      // Wait side
      const rent12 = rent * 12;
      const price12 = homePrice * Math.pow(1 + (appPct/100), 1); // 12 months
      const extraDp = (price12 * (dpPct/100)) - dpAmt;

      const netDiff = rent12 - netCostOwn12; // positive means rent cost > own net cost

      // ----- Break-even scan (PITI vs rent, appreciation included unless conservative) -----
      const maxScanMonths = Math.min(termYears*12, 360); // scan up to 30 years for sanity
      let breakevenMonth = null;

      let b2 = loanAmt;
      let v2 = homePrice;

      for(let m=1; m<=maxScanMonths; m++){
        v2 = v2 * (1 + monthlyApp);

        const step = amortizeOneMonth(b2, monthlyRate, piPmt);
        b2 = step.newBalance;

        const equityPos = v2 - b2;
        const cashOut = dpAmt + (pitiPmt * m);
        const netCostOwn = cashOut - equityPos;

        const rentCost = rent * m;

        if (breakevenMonth === null && netCostOwn <= rentCost){
          breakevenMonth = m;
          break;
        }
      }

      // ----- UI updates -----
      $("piPmt").textContent = fmtMoney(piPmt, 2);
      $("loanLine").textContent = `Loan: ${fmtMoney(loanAmt)} • Term: ${termYears} years`;

      $("tiPmt").textContent = fmtMoney(tiPmt, 2);
      $("tiLine").textContent = `Taxes: ${fmtMoney(monthlyTax,2)} • Ins: ${fmtMoney(monthlyIns,2)}`;

      $("pitiPmt").textContent = fmtMoney(pitiPmt, 2);

      $("dpAmt").textContent = fmtMoney(dpAmt);
      $("dpLine").textContent = `${dpPct.toFixed(1)}% of price`;

      $("equity12").textContent = fmtMoney(equity12);
      $("value12Line").textContent = `Estimated value: ${fmtMoney(value12)}`;

      $("equityGain12").textContent = fmtMoney(equityGain12);
      $("equityGainSplit").textContent = `Principal: ${fmtMoney(principal12)} • Appreciation: ${fmtMoney(appreciationGain12)}`;

      $("cashOut12").textContent = fmtMoney(cashOut12);
      $("netCostOwn12").textContent = fmtMoney(netCostOwn12);

      $("rent12").textContent = fmtMoney(rent12);
      $("price12").textContent = fmtMoney(price12);
      $("price12Sub").textContent = conservative ? "Conservative Mode: appreciation set to 0%" : "Uses appreciation input";

      $("extraDp").textContent = fmtMoney(extraDp);
      $("headStart").textContent = fmtMoney(equityGain12);

      $("netDiff").textContent = (netDiff >= 0)
        ? `${fmtMoney(netDiff)} (rent higher)`
        : `${fmtMoney(Math.abs(netDiff))} (owning higher)`;

      if (breakevenMonth === null){
        $("breakeven").textContent = "Not within scan";
        $("breakevenSub").textContent = conservative
          ? "Owning did not beat renting within the scan (with appreciation set to 0%)."
          : "Owning did not beat renting within the scan (under these assumptions).";
        $("gainHint").style.display = "none";
      } else {
        $("breakeven").textContent = `Month ${breakevenMonth}`;
        $("breakevenSub").textContent = "Owning begins building more net value after this point (simplified).";
        $("gainHint").style.display = "block";
      }

      // Takeaway
      let takeaway = "";
      if (homePrice <= 0){
        takeaway = "Enter a home price to see the snapshot.";
      } else if (netCostOwn12 < rent12){
        takeaway = conservative
          ? "Conservative Mode: owning is cheaper (net) than renting over 12 months under these assumptions."
          : "Owning is cheaper (net) than renting over 12 months under these assumptions.";
      } else {
        takeaway = conservative
          ? "Conservative Mode: renting costs less cash over 12 months — but you delay principal paydown."
          : "Renting costs less cash over 12 months — but you delay equity growth.";
      }

      $("takeaway").textContent = takeaway;
      $("ownCostBox").textContent = fmtMoney(netCostOwn12);
      $("rentCostBox").textContent = fmtMoney(rent12);
    }

    // -------- Event wiring --------
    const ids = ["price","dpPct","ratePct","termYears","rent","taxPct","insAnnual","appPct","conservative"];
    ids.forEach(id=>{
      $(id).addEventListener("input", compute);
      $(id).addEventListener("change", compute);
    });

    // Initial
    compute();
  </script>
</body>
</html>
